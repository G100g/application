{{!

  This sub template renders Employee's allowance breakdown.

  It relies on following entries in context:

    * user_allowance - an object representing current employee's allowance

}}

<dl>
  <dt>{{ t "calendar:allowance_breakdown" }}
    <i class="fa fa-question-circle"
      data-content="{{ t "calendar:allowance_breakdown_tip" }}"
      data-placement="top"
      data-toggle="popover"
      data-trigger="focus hover"
    ></i>
  </dt>
    <dd>
      <em>{{ t "calendar:nominal_allowance" }} </em>
      <span class="pull-right"
        data-content="{{ t "calendar:nominal_allowance_tip" }}"
        data-placement="top"
        data-toggle="popover"
        data-trigger="focus hover"
        id='nominalAllowancePart'
      >{{ user_allowance.nominal_allowance }}</span>
    </dd>
    <dd>
      <em>{{ t "calendar:carried_over" (object previous_year=previous_year) }}</em>
      <span class="pull-right"
        data-content="{{ t "calendar:carried_over_tip" }}"
        data-placement="top"
        data-toggle="popover"
        data-trigger="focus hover"
        id="allowanceCarriedOverPart"
      >{{ user_allowance.carry_over }}</span>
    </dd>
    <dd>
      <em>{{ t "calendar:individual_adjustment" }}</em>
      <span class="pull-right"
        data-content="{{ t "calendar:individual_adjustment_tip" }}"
        data-placement="top"
        data-toggle="popover"
        data-trigger="focus hover"
      >{{ user_allowance.manual_adjustment }}</span>
    </dd>
    <dd>
      <em>{{ t "calendar:start_end_of_employment" }}</em>
      <span class="pull-right"
        data-content="{{ t "calendar:start_end_of_employment_tip" }}"
        data-placement="top"
        data-toggle="popover"
        data-trigger="focus hover"
      >{{ user_allowance.employement_range_adjustment }}</span>
    </dd>
    <dd>
      <em>{{ t "calendar:used_so_far" }}</em>
      <span class="pull-right"
        data-content="{{ t "calendar:used_so_far_tip" }}"
        data-placement="top"
        data-toggle="popover"
        data-trigger="focus hover"
      >{{#if_equal user_allowance.number_of_days_taken_from_allowance 0}}{{else}}-{{/if_equal}}{{ user_allowance.number_of_days_taken_from_allowance}}</span>
    </dd>
    {{# if user_allowance.is_accrued_allowance }}
      <dd>
        <em>{{ t "calendar:locked_so_far" }}</em>
        <span class="pull-right"
          data-content="{{ t "calendar:locked_so_far_tip" }}"
          data-placement="top"
          data-toggle="popover"
          data-trigger="focus hover"
        >{{ user_allowance.accrued_adjustment }}</span>
      </dd>
    {{/ if}}
</dl>
